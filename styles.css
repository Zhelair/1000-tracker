*{box-sizing:border-box}
:root{
  --bg:#0b0f14;
  --card:#121a24;
  --card2:#0b121b;
  --text:#e7eef7;
  --muted:#a9b6c6;
  --line:#243447;
  --accent:#1f4ed8;
  --danger:#8b1d2c;
  --ok:#2ea043;
  --shadow:0 10px 28px rgba(0,0,0,.32);
}
html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
.wrap{max-width:1100px;margin:0 auto;padding:16px}
.stack{display:flex;flex-direction:column;gap:14px}
.top{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:14px}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:44px;height:44px;border-radius:14px;background:var(--card);border:1px solid var(--line);display:flex;align-items:center;justify-content:center;font-weight:900}
.h1{font-size:16px;font-weight:900}
.sub{color:var(--muted);font-size:13px;margin-top:2px}
.topRight{display:flex;gap:10px;align-items:center}
.badge{padding:8px 10px;border-radius:999px;border:1px solid var(--line);background:var(--card);font-size:12px;color:var(--muted);min-width:86px;text-align:center}
.pill{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:var(--card2);font-size:12px}
.pill.ok{border-color:var(--ok);color:#b7f5c8}
.pill.bad{border-color:#d73a49;color:#ffd6d6}

.card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:14px;box-shadow:var(--shadow)}
.hero{padding:18px}
.heroText h2{font-size:22px;margin:0 0 6px 0}
.muted{color:var(--muted);font-size:13px}
.muted.small{font-size:12px}
.cardHead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}
h3{font-size:18px;margin:0}
h4{font-size:16px;margin:0 0 10px 0}

.row{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0}
.field{display:flex;flex-direction:column;gap:6px;min-width:220px;flex:1}
.field span{font-size:12px;color:var(--muted)}
input,select{background:var(--card2);color:var(--text);border:1px solid var(--line);border-radius:12px;padding:10px 10px;font-size:14px;outline:none}
input:focus,select:focus{border-color:#4f83ff}

.btn{border:1px solid #2c405a;background:var(--card2);color:var(--text);border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer}
.btn:hover{filter:brightness(1.08)}
.btn.primary{background:var(--accent);border-color:var(--accent)}
.btn.danger{background:var(--danger);border-color:var(--danger)}
.btn.tiny{padding:7px 10px;font-size:12px;border-radius:999px}
.btn.ghost{background:transparent;border:1px dashed #2c405a;color:var(--muted)}
.btn:disabled{opacity:.45;cursor:not-allowed;filter:none}

.note{margin-top:8px;padding:10px;border-radius:14px;background:var(--card2);border:1px dashed #2c405a}

.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tab{border:1px solid var(--line);background:var(--card);color:var(--text);border-radius:999px;padding:9px 12px;font-weight:900;cursor:pointer}
.tab.active{background:var(--card2);border-color:#2c405a}
.panel{display:none}
.panel.active{display:block}

.grid2{display:grid;grid-template-columns:1fr;gap:14px}
@media(min-width:980px){.grid2{grid-template-columns:1fr 1fr}}

.rules{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.rule{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:10px;border-radius:14px;background:var(--card2);border:1px solid var(--line)}
.rTitle{font-weight:900}

.acc{background:var(--card2);border:1px solid var(--line);border-radius:14px;padding:10px;margin:10px 0}
.acc summary{cursor:pointer;font-weight:900}
.accBody{color:var(--text);font-size:14px;margin-top:8px;line-height:1.35}

.scoreGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:8px 0 12px}
.scoreBox{padding:12px;border-radius:14px;background:var(--card2);border:1px solid var(--line)}
.scoreNum{font-size:28px;font-weight:950;margin-top:2px}
hr{border:none;border-top:1px solid var(--line);margin:14px 0}
.check{font-size:13px;color:var(--text);background:var(--card2);border:1px solid var(--line);border-radius:999px;padding:8px 10px}

.history{display:flex;flex-direction:column;gap:10px}
.histItem{padding:12px;border-radius:14px;background:var(--card2);border:1px solid var(--line);font-size:13px;line-height:1.35}
.histRow{display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap}
.tag{font-size:12px;color:var(--muted);border:1px solid #2c405a;border-radius:999px;padding:4px 8px}
.kpi{font-weight:900}

.chartWrap{background:var(--card2);border:1px solid var(--line);border-radius:14px;padding:10px}
.legend{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.li{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:13px}
.dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.dot.d1{background:#4f83ff}
.dot.d2{background:#22c55e}
.dot.d3{background:#f59e0b}

.recent{display:flex;flex-direction:column;gap:8px}
.recentItem{display:flex;justify-content:space-between;gap:10px;align-items:center;background:var(--card2);border:1px solid var(--line);border-radius:14px;padding:10px}
.recentItem .left{display:flex;flex-direction:column;gap:2px}
.recentCode{font-weight:950}
.recentMeta{color:var(--muted);font-size:12px}
.recentActions{display:flex;gap:8px;align-items:center}

.foot{margin-top:14px;text-align:center}

.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:50}
.modal.show{display:flex}
.modalBackdrop{position:absolute;inset:0;background:rgba(0,0,0,.6)}
.modalCard{position:relative;z-index:2;width:min(720px,92vw);background:var(--card);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);padding:14px}
.modalHead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.modalTitle{font-weight:950;font-size:16px}
.linkList{display:flex;flex-direction:column;gap:10px;margin-top:12px}
a.link{color:#cfe1ff;text-decoration:none;background:var(--card2);border:1px solid var(--line);border-radius:14px;padding:10px}
a.link:hover{filter:brightness(1.08)}

.sliderField input[type=range] {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(90deg, #8b1d2c, #2c405a, #2ea043);
}
.sliderField input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: #e7eef7;
  border: 2px solid #1f4ed8;
}

.previewRow { font-size:15px; margin:4px 0; }

.marriages {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-top: 6px;
}
.marriage {
  background: #0f172a;
  border: 1px solid #1f2937;
  border-radius: 10px;
  padding: 8px 4px;
  font-size: 18px;
  cursor: pointer;
  color: #e5e7eb;
}
.marriage small { font-size: 11px; opacity: .8; }
.marriage.active {
  outline: 2px solid #f59e0b;
  background: #1f2937;
}
